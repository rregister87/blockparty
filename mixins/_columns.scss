@charset "UTF-8";

/*
	Columns functionality.
	Ex. @include columns(6);
*/

@mixin columns($span) {
	float: left;

	@if $custom_layout != null {
		$columns: map-get($custom_layout, columns);
		$container: map-get($custom_layout, container);
		$gutter: map-get($custom_layout, gutter);
	}

	$offset_factor: $gutter / $columns;
	$compensate: $offset_factor * $span;
	$width_percent: percentage($span / $columns);
	$computed_gutter: $gutter - $compensate;

	width: calc(#{$width_percent} - #{$computed_gutter});
	
	$no_margin: $columns / $span;

	&:nth-child(n) { margin-right: $gutter; }

	@if round($no_margin) == $no_margin {
		&:nth-child(#{$no_margin}) {
			margin-right: 0;
		}
	}

	&:last-child {
		margin-right: 0;
	}
}